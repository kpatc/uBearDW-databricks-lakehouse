# Configuration Environnement Local - uBear Data Warehouse
# Copier ce fichier en .env et ajuster les valeurs

# =============================================================================
# PostgreSQL Configuration
# =============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=your username
POSTGRES_PASSWORD=your password
POSTGRES_DB=foodapp

# =============================================================================
# Kafka Configuration
# =============================================================================
# Pour Docker interne
KAFKA_BOOTSTRAP_SERVERS_INTERNAL=kafka:9092

# Pour accès depuis host (votre machine)
KAFKA_BOOTSTRAP_SERVERS_HOST=localhost:29092

# Pour Databricks (tunnel ngrok ou VPN)
# Remplacer par votre URL ngrok après démarrage
KAFKA_BOOTSTRAP_SERVERS_PUBLIC=0.tcp.ngrok.io:12345

# =============================================================================
# Debezium Configuration
# =============================================================================
DEBEZIUM_CONNECT_URL=http://localhost:8083
DEBEZIUM_CONNECTOR_NAME=ubear-postgres-connector
DEBEZIUM_SERVER_NAME=dbserver1

# Tables à capturer (séparées par virgules)
DEBEZIUM_TABLE_INCLUDE_LIST=public.eater,public.merchant,public.courier,public.trip_events

# =============================================================================
# Databricks Configuration
# =============================================================================
# Workspace URL
DATABRICKS_HOST=your-databricks-workspace-url

# Access Token (généré dans User Settings)
DATABRICKS_TOKEN=your-databricks-access-token

# Catalog et Schemas
DATABRICKS_CATALOG=ubear_catalog
DATABRICKS_SCHEMA_BRONZE=ubear_bronze
DATABRICKS_SCHEMA_SILVER=ubear_silver
DATABRICKS_SCHEMA_GOLD=ubear_gold

# Secrets Scope
DATABRICKS_SECRETS_SCOPE=ubear-local-dev

# =============================================================================
# Pipeline Configuration
# =============================================================================
# DLT Storage Locations
DLT_STORAGE_BRONZE=/tmp/ubear/dlt/bronze
DLT_STORAGE_SILVER=/tmp/ubear/dlt/silver
DLT_STORAGE_GOLD=/tmp/ubear/dlt/gold

# Pipeline Mode (development ou production)
PIPELINE_MODE=development

# Cluster Configuration
CLUSTER_NUM_WORKERS=1
CLUSTER_NODE_TYPE=i3.xlarge

# =============================================================================
# Data Generation Configuration
# =============================================================================
# Nombre de records à générer pour les tests
NUM_EATERS=100
NUM_MERCHANTS=50
NUM_COURIERS=30
NUM_TRIPS=200

# Intervalle de génération CDC (secondes)
CDC_SIMULATION_INTERVAL=10

# =============================================================================
# Logging et Monitoring
# =============================================================================
LOG_LEVEL=INFO
ENABLE_DEBUG=false

# Email pour notifications
ALERT_EMAIL=data-team@ubear.com
